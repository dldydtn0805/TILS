## ë¬¸ì œ

https://www.acmicpc.net/problem/20956

## í•´ì„¤

ì§€í˜¸ëŠ” í•­ìƒ ì–‘ì´ ê°€ì¥ ë§ì€ ì•„ì´ìŠ¤í¬ë¦¼ì„ ì„ íƒí•˜ì—¬ ì „ë¶€ ë¨¹ëŠ”ë‹¤.

ì–‘ì´ ê°€ì¥ ë§ì€ ì•„ì´ìŠ¤í¬ë¦¼ì´ ì—¬ëŸ¬ê°œë¼ë©´ ê°€ì¥ ì™¼ìª½ì— ìˆëŠ”ê²ƒì„ ë¨¹ëŠ”ë‹¤.

ì§€í˜¸ëŠ” ë¯¼íŠ¸ì´ˆì½”ë§›ì„ ì‹«ì–´í•œë‹¤. ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì–‘ì´ 7ì˜ ë°°ìˆ˜ë¼ë©´ ë¯¼íŠ¸ì´ˆì½” ë§›ì´ë‹¤

ë¯¼íŠ¸ì´ˆì½” ë§› ì•„ì´ìŠ¤í¬ë¦¼ì„ ë¨¹ì€ ì§€í˜¸ëŠ” ì•„ì´ìŠ¤í¬ë¦¼ì˜ ìˆœì„œë¥¼ ì¢Œìš°ë¡œ ë’¤ì§‘ëŠ”ë‹¤.

Kê°œì˜ ì•„ì´ìŠ¤í¬ë¦¼ì´ ìˆë‹¤ë©´ ië²ˆì§¸ ì•„ì´ìŠ¤í¬ë¦¼ê³¼ K - i + 1 ë²ˆì§¸ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤.

ì§€í˜¸ëŠ” Nê°œì˜ ì•„ì´ìŠ¤í¬ë¦¼ ì¤‘ M ê°œì˜ ì•„ì´ìŠ¤í¬ë¦¼ì„ ë¨¹ìœ¼ë ¤ í•œë‹¤.

ì§€í˜¸ê°€ ë¨¹ì€ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ë²ˆí˜¸ë¥¼ êµ¬í•˜ì‹œì˜¤.

ì „ì²´ ì•„ì´ìŠ¤í¬ë¦¼ 1 <= N <= 10^6 ê°œê°€ ìˆë‹¤.

ì§€í˜¸ê°€ ë¨¹ì„ ì•„ì´ìŠ¤í¬ë¦¼ 1 <= M <= N ê°œê°€ ìˆë‹¤.

A[i]ëŠ” ië²ˆ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì–‘ì„ ì˜ë§ˆí•œë‹¤.

M ê°œì˜ ì¤„ì— ì§€í˜¸ê°€ i ë²ˆì§¸ë¡œ ë¨¹ì„ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ë²ˆí˜¸ë¥¼ ì¶œë ¥í•˜ë¼

í•µì‹¬ í¬ì¸íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- ì§€í˜¸ëŠ” í•­ìƒ ê°€ì¥ ë§ì€ ì–‘ì˜ ì•„ì´ìŠ¤í¬ë¦¼ì„ ì„ íƒí•˜ì—¬ ë¨¹ëŠ”ë‹¤.
    - ê°€ì¥ ë§ì€ ì•„ì´ìŠ¤í¬ë¦¼ì´ ì—¬ëŸ¬ê°œ ìˆë‹¤ë©´ ì™¼ìª½ì— ìˆëŠ” ê²ƒì„ ë¨¹ëŠ”ë‹¤.

- ë¨¹ì€ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì–‘ì´ 7ì˜ ë°°ìˆ˜ë¼ë©´ ëª¨ë“  ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì¢Œìš° ìˆœì„œê°€ ë’¤ì§‘íŒë‹¤.

íŠ¸ë¦¬ë§µì„ ì‚¬ìš©í•˜ë©´ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?

íŠ¸ë¦¬ë§µì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í–ˆë‹¤.

í‚¤ : ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì–‘
ê°’ : ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì¸ë±ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆëŠ” íŠ¸ë¦¬ ì„¸íŠ¸

1. ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì–‘ì´ ë§ì€ ê²ƒë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ìˆœíšŒí•œë‹¤.

2. ê¸°ë³¸ì ìœ¼ë¡œ ì•„ì´ìŠ¤í¬ë¦¼ì€ ì¸ë±ìŠ¤ê°€ ì‘ì€ ê²ƒë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ìˆœíšŒí•œë‹¤.

    - í•˜ì§€ë§Œ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì–‘ì´ 7ì˜ ë°°ìˆ˜ì¸ ê²½ìš° ì¸ë±ìŠ¤ê°€ í° ê²ƒë¶€í„° ìˆœíšŒí•œë‹¤.

ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì¸ë±ìŠ¤ë¥¼ ë¹ ë¥´ê²Œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ íŠ¸ë¦¬ ì„¸íŠ¸ êµ¬ì¡°ë¥¼ ì‚¬ìš©í–ˆë‹¤.

ì¸ë±ìŠ¤ëŠ” ê²¹ì¹˜ëŠ” ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— íŠ¸ë¦¬ ì„¸íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆê³ , ë¹ ë¥´ê²Œ ê°€ì¥ í° ê°’ê³¼, ê°€ì¥ ì‘ì€ ê°’ì„ ì„ íƒì ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ì¤€ë‹¤. 

ìŠ¤í‹¸ í•¨ìˆ˜ì—ì„œ í›”ì¹œ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ê°œìˆ˜ê°€ Mê°œê°€ ëìŒì„ ê°ì§€í•œë‹¤ë©´ í›”ì¹œ ì•„ì´ìŠ¤í¬ë¦¼ ëª©ë¡ì„ ë°˜í™˜í•˜ë„ë¡ ë§Œë“¤ë©´ ëœë‹¤.

## ğŸ“Œ TreeSet & TreeMap ë©”ì„œë“œ ì •ë¦¬ (ì‹œê°„ ë³µì¡ë„ í¬í•¨)

## âœ… TreeSet ë©”ì„œë“œ
| ë©”ì„œë“œ | ì„¤ëª… | ì‹œê°„ ë³µì¡ë„ |
|--------|----------------------------|------------|
| `add(E e)` | ìš”ì†Œ ì¶”ê°€ | `O(log N)` |
| `remove(Object o)` | ìš”ì†Œ ì‚­ì œ | `O(log N)` |
| `contains(Object o)` | íŠ¹ì • ìš”ì†Œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ | `O(log N)` |
| `first()` | ì²« ë²ˆì§¸(ê°€ì¥ ì‘ì€) ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° | `O(log N)` |
| `last()` | ë§ˆì§€ë§‰(ê°€ì¥ í°) ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° | `O(log N)` |
| `pollFirst()` | ì²« ë²ˆì§¸ ìš”ì†Œ ê°€ì ¸ì˜¤ë©´ì„œ ì‚­ì œ | `O(log N)` |
| `pollLast()` | ë§ˆì§€ë§‰ ìš”ì†Œ ê°€ì ¸ì˜¤ë©´ì„œ ì‚­ì œ | `O(log N)` |
| `higher(E e)` | ì£¼ì–´ì§„ ê°’ë³´ë‹¤ í° ìš”ì†Œ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ ë°˜í™˜ | `O(log N)` |
| `lower(E e)` | ì£¼ì–´ì§„ ê°’ë³´ë‹¤ ì‘ì€ ìš”ì†Œ ì¤‘ ê°€ì¥ í° ê°’ ë°˜í™˜ | `O(log N)` |
| `ceiling(E e)` | ì£¼ì–´ì§„ ê°’ ì´ìƒì¸ ìš”ì†Œ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ ë°˜í™˜ | `O(log N)` |
| `floor(E e)` | ì£¼ì–´ì§„ ê°’ ì´í•˜ì¸ ìš”ì†Œ ì¤‘ ê°€ì¥ í° ê°’ ë°˜í™˜ | `O(log N)` |
| `subSet(E fromElement, E toElement)` | íŠ¹ì • ë²”ìœ„ì˜ ìš”ì†Œ ë°˜í™˜ (`from` ì´ìƒ, `to` ë¯¸ë§Œ) | `O(log N) + O(M)` |
| `headSet(E toElement)` | íŠ¹ì • ê°’ë³´ë‹¤ ì‘ì€ ëª¨ë“  ìš”ì†Œ ë°˜í™˜ | `O(log N) + O(M)` |
| `tailSet(E fromElement)` | íŠ¹ì • ê°’ë³´ë‹¤ í° ëª¨ë“  ìš”ì†Œ ë°˜í™˜ | `O(log N) + O(M)` |
| `size()` | ìš”ì†Œ ê°œìˆ˜ ë°˜í™˜ | `O(1)` |
| `isEmpty()` | ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸ | `O(1)` |

---

## âœ… TreeMap ë©”ì„œë“œ
| ë©”ì„œë“œ | ì„¤ëª… | ì‹œê°„ ë³µì¡ë„ |
|--------|----------------------------|------------|
| `put(K key, V value)` | í‚¤-ê°’ ìŒ ì¶”ê°€ | `O(log N)` |
| `remove(Object key)` | íŠ¹ì • í‚¤ ì‚­ì œ | `O(log N)` |
| `get(Object key)` | íŠ¹ì • í‚¤ì˜ ê°’ ê°€ì ¸ì˜¤ê¸° | `O(log N)` |
| `containsKey(Object key)` | íŠ¹ì • í‚¤ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ | `O(log N)` |
| `containsValue(Object value)` | íŠ¹ì • ê°’ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ | `O(N)` |
| `firstKey()` | ê°€ì¥ ì‘ì€ í‚¤ ë°˜í™˜ | `O(log N)` |
| `lastKey()` | ê°€ì¥ í° í‚¤ ë°˜í™˜ | `O(log N)` |
| `firstEntry()` | ê°€ì¥ ì‘ì€ í‚¤-ê°’ ìŒ ë°˜í™˜ | `O(log N)` |
| `lastEntry()` | ê°€ì¥ í° í‚¤-ê°’ ìŒ ë°˜í™˜ | `O(log N)` |
| `pollFirstEntry()` | ê°€ì¥ ì‘ì€ í‚¤-ê°’ ìŒ ë°˜í™˜ ë° ì‚­ì œ | `O(log N)` |
| `pollLastEntry()` | ê°€ì¥ í° í‚¤-ê°’ ìŒ ë°˜í™˜ ë° ì‚­ì œ | `O(log N)` |
| `higherKey(K key)` | ì£¼ì–´ì§„ í‚¤ë³´ë‹¤ í° í‚¤ ì¤‘ ìµœì†Œê°’ ë°˜í™˜ | `O(log N)` |
| `lowerKey(K key)` | ì£¼ì–´ì§„ í‚¤ë³´ë‹¤ ì‘ì€ í‚¤ ì¤‘ ìµœëŒ€ê°’ ë°˜í™˜ | `O(log N)` |
| `ceilingKey(K key)` | ì£¼ì–´ì§„ í‚¤ ì´ìƒì¸ í‚¤ ì¤‘ ìµœì†Œê°’ ë°˜í™˜ | `O(log N)` |
| `floorKey(K key)` | ì£¼ì–´ì§„ í‚¤ ì´í•˜ì¸ í‚¤ ì¤‘ ìµœëŒ€ê°’ ë°˜í™˜ | `O(log N)` |
| `subMap(K fromKey, K toKey)` | íŠ¹ì • ë²”ìœ„ì˜ í‚¤-ê°’ ìŒ ë°˜í™˜ (`from` ì´ìƒ, `to` ë¯¸ë§Œ) | `O(log N) + O(M)` |
| `headMap(K toKey)` | íŠ¹ì • í‚¤ë³´ë‹¤ ì‘ì€ ëª¨ë“  í‚¤-ê°’ ìŒ ë°˜í™˜ | `O(log N) + O(M)` |
| `tailMap(K fromKey)` | íŠ¹ì • í‚¤ë³´ë‹¤ í° ëª¨ë“  í‚¤-ê°’ ìŒ ë°˜í™˜ | `O(log N) + O(M)` |
| `size()` | ìš”ì†Œ ê°œìˆ˜ ë°˜í™˜ | `O(1)` |
| `isEmpty()` | ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸ | `O(1)` |

---

## ğŸ”¥ ì¶”ê°€ ì„¤ëª…
- **`O(log N)`**: `TreeSet`ê³¼ `TreeMap`ì€ **ë ˆë“œ-ë¸”ë™ íŠ¸ë¦¬(Red-Black Tree)**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì—, ëŒ€ë¶€ë¶„ì˜ ì—°ì‚°ì´ `O(log N)`ì— ìˆ˜í–‰ë©ë‹ˆë‹¤.
- **`O(N)`**: `containsValue()`ëŠ” í‚¤ë¥¼ ì´ìš©í•œ íƒìƒ‰ì´ ì•„ë‹ˆë¼ **ëª¨ë“  ê°’ì„ ìˆœíšŒí•´ì•¼ í•˜ë¯€ë¡œ `O(N)`**ì…ë‹ˆë‹¤.
- **`O(log N) + O(M)`**: íŠ¹ì • ë²”ìœ„ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ(`subSet()`, `headSet()`, `tailSet()`)ëŠ” **ê²€ìƒ‰í•˜ëŠ” ë° `O(log N)`, ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” ë° `O(M)`**ì˜ ì‹œê°„ì´ ê±¸ë¦½ë‹ˆë‹¤.

ğŸš€ **`TreeSet`ì€ ì¤‘ë³µ ì—†ëŠ” ì •ë ¬ëœ ë°ì´í„° ì €ì¥, `TreeMap`ì€ ì •ë ¬ëœ í‚¤-ê°’ ì €ì¥ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤!**


## ì…ë ¥
```txt
5 4
7 6 8 6 5
```

## ì¶œë ¥
```txt
3
1
4
2
```

## ì½”ë“œ

```java


import java.io.*;
import java.util.*;

public class Main {
    static int INF = Integer.MAX_VALUE;
    static int[][] directions = {{-1,0},{0,1},{1,0},{0,-1}}; // ë¶ ë™ ë‚¨ ì„œ
    public static void main(String[] args) throws IOException{
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        StringBuilder sb = new StringBuilder("");

        StringTokenizer st = new StringTokenizer(br.readLine());

        int N = Integer.parseInt(st.nextToken());
        int M = Integer.parseInt(st.nextToken());
        st = new StringTokenizer(br.readLine());
        int[] A = new int[N];
        for (int i = 0 ; i < N; i ++) {
            A[i] = Integer.parseInt(st.nextToken());
        }

        TreeMap<Integer, TreeSet<Integer>> iceCreams = new TreeMap<>((a,b)->{
            return b-a;
        });

        for (int i = 0; i < N; i ++) {
            if (!iceCreams.containsKey(A[i])) {
                iceCreams.put(A[i], new TreeSet<>());
                iceCreams.get(A[i]).add(i+1);
            } else {
                iceCreams.get(A[i]).add(i+1);
            }
        }

        bw.write(steel(iceCreams, M).toString().trim());
        bw.flush();
        bw.close();
        br.close();
    }

    public static StringBuilder steel (TreeMap<Integer, TreeSet<Integer>> iceCreams, int M) {
        int cnt = 0;
        StringBuilder sb = new StringBuilder("");
        boolean rage = false;
        while (!iceCreams.isEmpty()) {
            Map.Entry<Integer, TreeSet<Integer>> cur = (iceCreams.pollFirstEntry());
            while (!cur.getValue().isEmpty() && cnt < M) {
                if (rage) {
                    sb.append(cur.getValue().pollLast()).append("\n");
                    if (cur.getKey() % 7 == 0) {
                        rage = !rage;
                    }
                    cnt ++;
                    if (cnt == M) {
                        return sb;
                    }
                } else {
                    sb.append(cur.getValue().pollFirst()).append("\n");
                    if (cur.getKey() % 7 == 0) {
                        rage = !rage;
                    }
                    cnt ++;
                    if (cnt == M) {
                        return sb;
                    }
                }
            }

        }
        return sb;
    }

}
```