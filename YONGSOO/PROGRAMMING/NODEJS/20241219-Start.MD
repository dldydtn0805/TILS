## 소개

- `다른 버전의 자바스크립트`이다. 자바스크립트를 다른 환경에서 구현한 것이다. 자바스크립트 코드를 서버에서 실행할 수 있도록 해주며 이론적으로는 서버 뿐만 아니라 어떤 기기에서도 실행할 수 있다. 따라서 인터넷에서 작동하는 컴퓨터라고 할 수 있는 서버에서 실행할 웹 애플리케이션을 구현하는데 매우 유용하다. 즉 `브라우저 밖에서도 NODEJS를 사용해 자바스크립트를 실행할 수 있다`. 

- `NODEJS는 V8을 사용`한다. V8은 구글에서 개발한 자바스크립트 엔진으로 자바스크립트를 브라우저에서 실행해준다. 엔진은 브라우저 혹은 NODE에서 실행된 JS 코드를 머신 코드로 컴파일해준다. `NODE는 V8 코드 베이스를 사용하며 로컬 파일 시스템 활용, 파일열기, 파일 읽기, 파일 삭제 기능등을 추가`해준다. 보안상의 이유로 브라우저에서는 로컬 파일 시스템에 액세스 할수 없으므로 이런 기능들을 지원하지 않는다. NODE는 V8엔진에 이러한 기능을 더해서 가능하게 해준다. `주의할 점은 일부 기능은 빠진다는 것이다. 브라우저는 JS를 사용해 문서 객체 모델과 상호작용하게 된다. 페이지 상의 HTML 요소`이다. JS를 직접 실행하면 페이지를 첨부하지 않았으므로 이런 기능이 빠지게 된다. 

### 간단한 NODE 사용 방법

- NODE가 제공하는 대화형 모드로 진입하는 것이다. [REPL]

- 터미널 또는 커맨드 프롬프트에서 `node`를 입력하면 새로운 모드에 진입한다.
- 기본적인 계산기 또는 더 많은 일이 가능하다.
- 종료하려면, `ctrl + c` 혹은 `.exit` 혹은 `ctrl + d 두번`을 입력하면 된다.

### JS 파일 사용 방법

- 터미널을 사용하는 것으로 NODE 파일을 실행할 수 있다.
`node first-app.js`
- 혹은 NODE JS가 제공하는 내장된 기능 중 하나 [파일 시스템 활용을 가능하게 해주는 파일 시스템 기능]를 활용할 수 있다.

- 이 기능을 활용하려면 먼저 파일에 임포트해서 노드에 이 기능을 사용할 것이라고 알려야한다. 

- 여기서 사용되는 구문은 REQUIRE로 NODE에서 제공한다. 우리가 사용할 모듈은 FS 모듈로, 노드에 포함된 노드 코어 모듈 중 하나이다. 

```js
const fs = require('fs');
fs.writeFileSync('hello.txt', 'Hello from node.js');
```
- writeFileSync 메서드는 하드 드라이브에 파일을 생성한다. 첫번째 인자는 파일명이 포함된 파일 경로이다. 두번째 인자는 파일의 내용이다. 

## NODE의 역할과 이해

- 서버에서는 일반적으로 성능 또는 보안상의 이슈로 브라우저에서 할 수 없거나 하고싶지 않은 작업을 수행한다. 데이터를 불러오거나 저장하기 위해 DB에 접속하거나 사용자 인증을 수행하기도 한다. 이는 보안을 강하게 하고 해킹을 막기 위해 사용자가 접속할 수 없는 곳에서 진행해야 한다. 올바른 이메일 주소를 입력했는지 확인하는 등의 입력값 검증에도 사용된다. [브라우저는 항상 속일 수 있다]

- `서버는 유저가 액세스 할 수 없으므로 안전`하다. 일반적으로 서버 운영에는 비즈니스 로직이 적용된다. 유저가 보게 될 모든것을 브라우저에서 실행하려면 시간이 너무 많이 걸린다. 또한 `신속한 사용 환경을 제공`하고 싶어한다. 이곳에 NODE를 활용하게 된다. 

- 중요한점은 NODE는 서버의 코드 실행에만 국한되지 않는다. 어떤 코드라도 NODE로 실행할 수 있다. 마치 REACT, ANGULAR, VUE처럼 이러한 프레임워크에 필요한 모든 빌드 과정에 간접적으로 NODE가 사용되었다.

- NODE의 가장 큰 장점은 프론트엔드에서 빌드 툴까지 현대 웹 개발에서 널리 사용되는 자바스크립트를 사용한다는 점이다. 이를 서버에서도 사용한다면 다른 언어를 배울 필요가 없다.

## HOW WEB WORKS

- 브라우저 앞에 앉아서 웹페이지를 방문하거나 이미 웹 페이지에 접속한 상태로 양식을 보내는 등의 웹페이지와 상호작용을 한다. 홈페이지에 방문할때 `브라우저에 URL을 입력`하면, 실제로 뒤에서 일어나는 일은 `브라우저가 도메인 이름 서버로 접근하여 해당 도메인을` 찾는데, 찾는 이유는 이 `도메인이 서버의 실제 주소에 해당하지 않기 때문`이다. 쉽게 말하면 해당 주소를 사람이 읽을 수 있도록 `인코딩`한다고 보면 된다. 서버의 경우 단순히 IP 주소를 가지고 있으나 이건 화면 뒤에서 일어나는 기술적 요소로 최종적으로 이 URL을 입력하게 되면 어딘가의 서버로 연결된다. 따라서 `브라우저는 주어진 IP 주소를 사용하여 해당 서버로 요청을 보내`게 되며 그 IP 주소는 그 도메인에 속한다. 이제부터 NODE JS가 중요해지는 부분이다.

- 해당 IP 주소가 있는 컴퓨터의 인터넷에서 구동하는 코드를 작성하면 `유입되는 요청을 처리하고 이를 활용할 수 있는 서버`를 스핀업 하는 코드를 작성한다. [NODE JS의 역할]

- 이 코드를 사용하여 다양한 일을 할 수 있다. `사용자 입력 유효성 검사`, 독자적인 데이터베이스 서버에서 구동하는 `데이터베이스와 소통`하되 일반적으로 `백엔드에서, 즉 서버 사이드 코드에서 접근`하며 이 과정을 마친뒤에는 `클라이언트로 응답`을 다시 보내게 된다. 이 응답은 `HTML, JSON, XML` 등으로 구성될 수 있고 이후 클라이언트를 통해 처리된다. 이 응답은 단순한 콘텐츠 이상이고 `응답과 요청은 모두 헤더`를 가지고 있다. 이는 요청과 응답에 첨부되는 `일종의 메타 정보로 내용이 무엇인지 설명`해준다.

- 우리가 집중할 부분은 최종적으로 이 서버를 구성하게 되는 코드이다. `요청과 응답 전송`이 일부 프로토콜, 즉 `표준화된 소통 방식`을 통해 이뤄진다. 요청을 올바르게 처리하고 브라우저가 작업할 수 있는 응답을 회신하기 위해 우리가 사용하는 프로토콜인 `HTTP 또는 HTTPS`를 통해 정의되는 규칙을 준수해야한다. HTTP는 `하이퍼 텍스트 전송 프로토콜`의 약자이고 이를 통해 `유효한 요청이 어떤 형태를 지니고 어떤 데이터가 브라우저에서 서버 혹은 그 반대로 전송되어야 할지를 정의`한다. HTTPS는 기본적으로 HTTP와 동일하며 여기에 `전송된 모든 데이터가 실제로 암호화되는 SSL 암호화가 켜져있어 누군가 연결을 스푸핑 하더라도 데이터를 읽을 수 없도록` 한다. 
