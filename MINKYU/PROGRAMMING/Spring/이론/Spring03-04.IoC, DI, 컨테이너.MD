# Spring

출처 : [스프링 핵심 원리 - 기본편(인프런 - 김영한)](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard)

## Ch03. 스프링 핵심 원리 이해 1 - 예제 만들기

### 03-04. IoC, DI, 컨테이너

제어 역전(Inversion of Control, IoC) : 프로그램의 제어 흐름을 직접 제어하는 것이 아닌, 외부에서 관리하는 것

- 기존 프로그램 : 구현 객체가 스스로 필요한 서버 구현 객체를 생성, 연결 및 실행
  - 구현 객체가 프로그램 제어 흐름을 스스로 조종
- AppConfig의 등장 이후 : 구현 객체는 자신의 로직을 실행하는 역할만 담당
  - 프로그램의 제어 흐름은 AppConfig가 담당(ex. OrderServiceImpl : 필요한 인터페이스를 호출하지만, 어떤 구현 객체들이 실행되는지는 모름. AppConfig가 제어 흐름 권한을 가짐)

의존 관계 주입(Dependency Injection, DI) : 애플리케이션 런타임에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결되는 것

- 객체 인스턴스를 생성하고, 그 참조값을 전달해서 연결
- 클라이언트 코드 변경 없이, 클라이언트가 호출하는 대상의 타입 인스턴스를 변경 가능
- 정적인 클래스 의존관계를 변경하지 않고, 동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있다

정적 클래스 의존 관계와 실행 시점에 결정되는 동적 객체(인스턴스) 의존 관계를 분리해서 주입해야 한다!

- 정적인 클래스 의존관계 : 애플리케이션을 실행하지 않아도 분석할 수 있는 의존 관계

  - 클래스가 사용하는 import 코드만 보고 판단 가능
  - 클래스 다이어그램을 보고 판단 가능

- 동적인 객체 인스턴스 의존 관계 : 애플리케이션 실행 시점(런타임)에 실제 생성된 인스턴스 참조가 연결된 의존 관계
  - 객체 다이어그램을 보고 판단 가능

IoC 컨테이너, DI 컨테이너 : AppConfig처럼 객체를 생성하고 관리하면서 의존관계를 연결해 주는 것

- 의존 관계 주입에 초점을 맞추어 최근에는 DI 컨테이너로 불림
- 어셈블러, 오브젝트 팩토리 등으로 불리기도 함

결론

1. IoC와 DI는 SOLID에서 굉장히 중요한 파트

- IoC를 통해 실행과 역할에 따른 구현 분배(제어)를 분리할 수 있음
- DI를 통해 정적 클래스 의존 관계와 동적 인스턴스 의존 관계를 분리하고, 정적 의존 관계 변경 없이 런타임 시 동적 의존 관계만 변경할 수 있음

2. DI 컨테이너(IoC 컨테이너)를 활용하여 의존 관계 분리 및 주입을 할 수 있음

- AppConfig가 그 예

3. 우리는 지금까지 이 과정을 "순수한 자바 코드"로만 작성했음...
4. 이제는 Spring을 기반으로 해서 코드를 작성해 봅시다! 얼마나 대단한 놈인지 볼게요 ~.~
