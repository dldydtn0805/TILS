# 백준 문제 풀이

## bj 30024. 옥수수밭(2025-06-28)

## 문제 설명

옥수수밭 주인 민석이는 한 해 동안 열심히 기른 옥수수를 수확하려고 한다. 옥수수밭은 N행
M열의 격자로 생각할 수 있는데, 격자의 각 칸에는 한 그루의 옥수수가 심어져 있다.

민석이는 각 옥수수의 가치를 측정해서 서로 다른 정수 1,2, ...,N X M을 부여했다.

민석이는 처음에 옥수수밭 바깥에 위치한다. 민석이는 옥수수밭 바깥을 돌아다니면서 옥수수밭 바깥과 인접한 칸의 옥수수를 수확할 수 있다. 또는 옥수수밭 안에서 옥수수를 수확한 칸으로만 돌아다니면서 현재 위치한 칸에서 상하좌우로 인접한 칸의 옥수수를 수확할 수 있다.

그런데, 민석이는 옥수수의 생산량 조절을 위해서 K그루의 옥수수만 수확하려고 한다. 민석이는 현재 수확할 수 있는 옥수수 중에서 가장 가치가 높은 옥수수를 수확하는 과정을 K번 반복한다. 민석이가 수확하는 옥수수의 위치를 순서대로 구해보자.

## 입력

첫째 줄에 정수 N, M(1 <= N, M <= 1,000)이 공백으로 구분되어 주어진다.

둘째 줄부터 N개의 줄에 걸쳐 M개의 정수가 공백으로 구분되어 주어진다.
N개의 줄 중 i번째 줄의 j번째 정수는 격자에서 i번째 줄의 j번째 칸의 옥수수의 가치를 의미하는 정수 a*{ij} (1 <= a*{ij} <= N X M)다.

마지막 줄에 정수 K(1 <= K <= min(N X M, 100,000))가 주어진다.

## 출력

K개의 줄에 민석이가 수확하는 옥수수의 위치 i, j(1 <= i <= N, 1 <= j <= M)를 순서대로 출력한다. i, j는 격자의 i번째 행, j번째 열을 의미한다.

## 문제풀이

우선순위 큐를 이용한 출력 문제이다. 문제를 처음에 잘 못 이해해서, 바깥쪽 특정 좌표에서 시작해서 인접한 최대 값이 담긴 좌표로 계속 이동하는 문제인 줄 알았다. 하지만, 이미 수확한 좌표는 들락날락 할 수 있었기에, 바깥에 위치하느 모든 좌표를 내림차순으로(음수값) 우선순위 큐에 담고, 우선순위 큐에서 K번 뽑으며 출력하는 문제였다. 뽑을 때 마다, 뽑힌 각 좌표의 인접 좌표들 중 방문처리되지 않은 인접노드를 다시 우선순위 큐에 넣어준다. 이런 식으로 반복할 경우, 방문한 좌표들 중, 최대 값을 가진 좌표들을 차례대로 빼줄 수 있었다.

## 문제풀이 코드

```python
# 백준 30024
import sys
import heapq

# N, M : 옥수수밭의 크기(1 <= N, M <= 1000)
# K : 수확할 옥수수 개수(1 <= K <= min(N * M, 100000)
# arr : 옥수수 가치 모음 배열
def solution(N, M, K, arr):
    dir = [(-1, 0), (1, 0), (0, -1), (0, 1)]

    pq = []
    visited = [[0] * M for _ in range(N)]
    for i in range(N):
        for j in range(M):
            if i == 0 or i == N-1 or j == 0 or j == M-1:
                heapq.heappush(pq, (-arr[i][j], i, j))
                visited[i][j] = 1

    k = 0
    while k < K:
        cnt, i, j = heapq.heappop(pq)
        print(i+1, j+1)

        for di, dj in dir:
            ni = i + di
            nj = j + dj
            if 0 <= ni < N and 0 <= nj < M and visited[ni][nj] == 0:
                heapq.heappush(pq, (-arr[ni][nj], ni, nj))
                visited[ni][nj] = 1
        k += 1

N, M = map(int, input().split())
arr = [list(map(int, input().split())) for _ in range(N)]
K = int(input())
solution(N, M, K, arr)
```

```java


```
