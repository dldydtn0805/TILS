# 백준 문제 풀이

## bj 24466. 도피(2025-07-09)

## 문제 설명

감옥에서 탈출한 병준이는 경찰에 잡히지 않기 위해 도망 다니고 있다. 병준이를 잡기 위해 경찰은 N개의 도시에 병력을 파견할 것이다. 이때 병준이가 있을 확률이 높은 도시에 더 많은 병력을 파견할 것이고, 이에 따라 각 도시에 병준이가 있을 확률을 구해야 한다.

경찰은 병준이가 하루 동안 각 도시를 이동할 확률을 알고 있다. 확률에 따라 병준이가 탈옥한 날로부터 9일이 지난 후, 병준이가 어느 도시에 있는지 구하려고 한다.

병준이의 탈옥 9일이 지난 후, 병준이가 있을 확률이 가장 높은 도시와 그 확률을 구하는 프로그램을 작성하시오.

감옥은 항상 0번 도시에 존재한다.

## 입력

첫 번째 줄에 도시의 수 N, 이동 가능한 경로의 수 M이 주어진다. (2 <= N <= 100, 1 <= M <= N^2)

두 번째 줄부터 M줄에 걸쳐 다음과 같이 3개의 정수가 입력으로 주어진다.

- u v w: u 도시에 있는 병준이는 v 도시로 이동할 확률이 w%이다. (0 <= u, v < N, 0 <= w <= 100)

모든 도시에 대하여 다음 도시로 이동할 확률의 합은 100%이다. 이동 전과 이동 후의 도시가 같을 수 있다.

## 출력

출력의 첫 번째 줄에 병준이가 있을 확률이 가장 높은 도시의 번호를 출력한다. 이러한 도시가 여럿인 경우, 공백으로 구분하여 오름차순으로 출력한다.

출력의 두 번째 줄에 병준이가 해당 도시에 있을 확률을 소수점 아래 18자리까지 출력한다. 실수 오차는 허용되지 않는다. 결과가 소수점 아래 19자리 이상인 경우, 소수점 아래 19자리에서 내림한다.

## 문제풀이

단순한 dp 문제이다. 다만, 출력 방법이 어려워서 해맸다. 단순히 길이만 보고 19자리 이상일 경우, 1.000,,,을 출력하고, 아닐 경우 0.000,,,결과값 형태로 출력하면 된다. dp 점화식은 어제 기준 해당 도시에 있는 것이 가능한 경우, 해당 도시에서 다음 도시로 옮기는 경우의 수를 구해주면 된다.

## 문제풀이 코드

```python
# 백준 24466
import sys

# N : 도시의 수(2 <= N <= 100)
# M : 이동 가능한 경로의 수(1 <= M <= N**2)
# arr[i][j] : i -> j로 가는 확률
def solution(N, M, arr):
    # dp[i][j] : i일차에 j번 도시에 있을 확률
    dp = [[0] * N for _ in range(10)]
    dp[0][0] = 1
    for i in range(1, 10):
        for j1 in range(N):
            if dp[i-1][j1] > 0:
                for j2 in range(N):
                    dp[i][j2] += dp[i-1][j1] * arr[j1][j2]

    # for i in range(10):
    #     print(dp[i])

    result1 = []
    result2 = -1
    for j in range(N):
        if result2 == dp[9][j]:
            result1.append(j)
        elif result2 < dp[9][j]:
            result1 = [j]
            result2 = dp[9][j]
    result1.sort()

    print(*result1)
    if len(str(result2)) == 19:
        print("1." + "0" * 18)
    else:
        print("0." + "0" * (18 - len(str(result2))) + str(result2))

N, M = map(int, input().split())
arr = [[0] * N for _ in range(N)]
for _ in range(M):
    u, v, w = map(int, input().split())
    arr[u][v] = w

solution(N, M, arr)
```

```java


```
