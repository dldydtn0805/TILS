# 백준 문제 풀이

## bj 32780. 가희와 클럽 오디션(2025-07-30)

## 문제 유형

1. Dynamic Programming(DP)
2. Combination

## 문제 설명

가희는 클럽 오디션 모드 중 8키 일반 모드를 하고 있습니다. 이 모드에서는 키 노트가 여러 개 등장합니다. 레벨이 lv(1 <= lv <= 50000)인 키 노트에는 방향키가 lv개 등장합니다. 플레이어는 역방향 모드 1부터 6까지, 그리고 랜덤 이렇게 7개의 모드를 선택할 수 있습니다. 키 노트의 레벨에 따라, 등장하는 방향키의 종류가 다릅니다.

1. lv이 5 이하인 경우
   상, 하, 좌, 우 4개의 방향키만 등장합니다.

2. lv이 6 이상인 경우 상, 하, 좌, 우, 우상, 우하, 좌상, 좌하의 8개의 정방향 키가 등장할 수 있습니다. 8개의 정방향 키에 대한 역방향 키도 등장할 수 있습니다.
   역방향 키 모드가 c일 때, 키 노트에 c개의 역방향 키가 등장합니다. 만약, 역방향 키 모드가 랜덤이라면 역방향 키는 키 노트에 최대 6개까지 등장합니다.
   가희가 역방향 키 모드를 랜덤으로 선택했을 때, 레벨이
   lv인 키 노트의 패턴 수를 10^{9} + 7로 나눈 나머지를 출력해 주세요.

## 입력

첫 번째 줄에 키 노트의 레벨
$lv$이 주어집니다.

## 출력

문제의 정답을 출력해 주세요.

## 문제풀이

조합을 활용한 dp 문제이다. 처음에는 문제 자체가 이해가 안돼서;; 챗지피티 형님께 조언을 구했다.

그냥 단순히 LV이 5 이하인지를 기준으로 하여 가능한 키 조합이 몇개인지 구하면 되는 문제이다.

역방향 키 모드가 랜덤일 경우, 역방향 키는 최대 6개까지 사용 가능하다.

즉, LV에 대해 0 ~ 6개 사이의 역방향 키를 섞어서 조합을 짜면 된다.

dp는 (L+1) X 7로, dp[i][j]에 i까지의 키를 선택했을 때, j개의 역방향 키가 사용되는 경우의 수를 구하면 된다. 이 때, 정방향 키의 개수는 8개, 역방향 키의 개수는 8개이기 때문에 점화식은 다음과 같다.

- dp[i][j] = 8 \* (dp[i-1][j] + dp[i-1][j-1]) % MOD
  - i-1개의 키 중 j개의 키가 역방향일 경우에는 이번 키가 정방향 키이다
  - i-1개의 키 중 j-1개의 키가 역방향일 경우에는 이번 키가 역방향 키이다

## 문제풀이 코드

```python
# 백준 32780
import sys

# L : 키 노트의 레벨(1 <= L <= 50000)
def solution(L):
    MOD = 10**9 + 7
    if L <= 5:
        return 4 ** L
    # dp[i][j] : i번째 키까지 봤을 때 j개의 역방향 키를 사용하는 경우의 수
    dp = [[0] * 7 for _ in range(L+1)]
    dp[0][0] = 1
    for i in range(1, L+1):
        dp[i][0] = (8 * dp[i-1][0]) % MOD
        for j in range(1, 7):
            # i-1개 중 j개 역방향 -> 이번에 정방(8개)
            # i-1개 중 j-1개 역방향 -> 이번에 역방(8개)
            dp[i][j] = 8 * (dp[i-1][j] + dp[i-1][j-1]) % MOD
    result = 0
    for j in range(7):
        result += dp[L][j]
        result %= MOD
    return result

L = int(input())
print(solution(L))
```

```java


```
