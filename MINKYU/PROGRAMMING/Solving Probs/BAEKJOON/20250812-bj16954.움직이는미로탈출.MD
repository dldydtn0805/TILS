# 백준 문제 풀이

## bj 16954. 움직이는 미로 탈출(2025-08-12)

## 문제 유형

1. Simulation
2. Breadth First Search

## 문제 설명

욱제는 학교 숙제로 크기가 8×8인 체스판에서 탈출하는 게임을 만들었다. 체스판의 모든 칸은 빈 칸 또는 벽 중 하나이다. 욱제의 캐릭터는 가장 왼쪽 아랫 칸에 있고, 이 캐릭터는 가장 오른쪽 윗 칸으로 이동해야 한다.

이 게임의 특징은 벽이 움직인다는 점이다. 1초마다 모든 벽이 아래에 있는 행으로 한 칸씩 내려가고, 가장 아래에 있어서 아래에 행이 없다면 벽이 사라지게 된다. 욱제의 캐릭터는 1초에 인접한 한 칸 또는 대각선 방향으로 인접한 한 칸으로 이동하거나, 현재 위치에 서 있을 수 있다. 이동할 때는 빈 칸으로만 이동할 수 있다.

1초 동안 욱제의 캐릭터가 먼저 이동하고, 그 다음 벽이 이동한다. 벽이 캐릭터가 있는 칸으로 이동하면 더 이상 캐릭터는 이동할 수 없다.

욱제의 캐릭터가 가장 오른쪽 윗 칸으로 이동할 수 있는지 없는지 구해보자.

## 입력

8개 줄에 걸쳐서 체스판의 상태가 주어진다. '.'은 빈 칸, '#'는 벽이다. 가장 왼쪽 아랫칸은 항상 벽이 아니다.

## 출력

욱제의 캐릭터가 가장 오른쪽 윗 칸에 도착할 수 있으면 1, 없으면 0을 출력한다.

## 문제풀이

bfs를 활용한 구현 문제이다. 총 9개의 방향으로 갈 수 있는 상황에서, 벽이 아닌 방향으로만 이동하며 (7, 0)에서 (0, 7)로 이동 가능한지를 판별해야 한다.

이 때, 이동 후 전체 좌표가 한 칸씩 아래로 내려가야 한다. 즉, 주어진 현재 좌표를 한 칸 올리는 방향으로 접근하면 된다. 접근 시, 다음에 좌표 전체가 이동할 것을 고려해서 한 칸 위가 벽이 아닌지도 체크해 주어야 최적화가 가능하다.

총 8초 내에 이동해야 하기 때문에, visited를 8 X 8 X 9의 3차원 배열로 구현하고, deque에는 현재 좌표(i, j)와 시간(t)를 담아주었다.

## 문제풀이 코드

```python
# 백준 16954
import sys
from collections import deque

# arr[i][j] = . : 빈 칸
# arr[i][j] = # : 벽

def solution(arr):
    que = deque()
    # visited[i][j][t] : t초에 (i, j)를 방문했는지
    visited = [[[0] * 9 for _ in range(8)] for _ in range(8)]
    que.append((7, 0, 0))

    dir = [(-1, -1), (-1, 0), (-1, 1), (0, -1), (0, 0), (0, 1), (1, -1), (1, 0), (1, 1)]
    while que:
        i, j, t = que.popleft()
        if t >= 8:
            return 1
        if i == 0 and j == 7:
            return 1
        if i-t >= 0 and arr[i-t][j] == '#':
            continue
        for di, dj in dir:
            ni = i + di
            nj = j + dj
            if not (0 <= ni < 8 and 0 <= nj < 8):
                continue
            if ni - t >= 0 and arr[ni-t][nj] == '#':
                continue

            if visited[ni][nj][t+1] == 1:
                continue
            que.append((ni, nj, t+1))
            visited[ni][nj][t+1] = 1
    return 0

arr = [list(input()) for _ in range(8)]
print(solution(arr))
```

```java


```
