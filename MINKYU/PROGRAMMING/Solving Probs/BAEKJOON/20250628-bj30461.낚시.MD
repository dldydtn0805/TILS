# 백준 문제 풀이

## bj 30461. 낚시(2025-06-28)

## 문제 설명

건덕이는 일감호에 딸린 작은 섬, 와우도에 앉아 세월을 낚아 올리는 중이다.
일감호는 N X M 공간으로 나타낼 수 있다. 공간은 1 X 1 크기의 정사각형 칸으로 나누어져 있고, 각 칸에는 물고기가 여럿 존재한다. 가장 수심이 깊으면서 건덕이로부터 가장 먼 칸은 (N, M)이다.

건덕이는 낚싯대를 휘둘러 원하는 칸에 미끼를 던질 수 있다. 무게가 a인 무게추를 매달아 b만큼의 힘으로 낚싯대를 휘두르면 (a, b) 칸에 미끼가 존재하게 된다.

미끼는 일감호 공간 안에서 물고기들을 사로잡는데, 그 대상은 미끼가 속한 칸으로부터 수면까지 존재하는 모든 칸에 있는 물고기들이다. 즉, (a, b)에 존재하는 미끼는 1 <= i <= a인 모든 정수 i에 대해서 (i, b)에 존재하는 모든 물고기를 사로잡는다.

건덕이가 낚싯줄을 한 바퀴 감아올리면, (a, b)에 위치한 미끼는 (a-1, b-1)로 이동하며, 이동한 위치에서 물고기를 사로잡는다. 미끼가 일감호의 공간을 벗어나면 즉시 회수된다.

건덕이가 무게추의 무게와 낚싯대를 휘두를 힘을 알려줄 때마다, 낚싯대를 휘두른 뒤 회수할 때까지 낚싯줄을 감아올리면 몇 마리의 물고기가 사로잡힐지 구해줘야 한다. 건덕이가 많은 물고기를 잡을 수 있도록 도와주자!

## 입력

첫째 줄에 일감호의 크기를 나타내는 정수 N, M과 건덕이가 낚싯대를 휘두를 횟수 Q가 공백으로 구분되어 주어진다.(1 <= N, M <= 2000, 1 <= Q <= 300000)

둘째 줄부터 N개의 줄에 걸쳐 각 공간에 존재하는 물고기의 수 A*{ij}가 주어진다.
N개의 줄 중 i번째 줄에 있는 j번째 수는 (i, j)칸에 물고기가 A*{ij}마리 존재한다는 의미다. (0 <= A\_{ij} <= 500)

N+2번째 줄부터 Q개의 줄에 걸쳐 건덕이가 미끼에 매달 무게추의 무게를 나타내는 정수 W_i와 낚싯대를 휘두르는 힘을 나타내는 정수 P_i가 공백으로 구분되어 주어진다. (1 <= W_i <= N, 1 <= P_i <= M)

## 출력

Q개의 줄에 걸쳐, 각 낚시에 대해서 미끼를 회수할 때까지 몇 마리의 물고기가 사로잡히는지 출력한다.

## 문제풀이

누적합 문제이다. 기존 누적합과 다르게 (i, j)에 i와 j를 1씩 줄여가며 둘 중 하나가 0이 될 때까지 해당 열 위의 물고기 개수 누적합을 담아야 했다.

이를 위해, 각 i, j에 대해 열에 대한 누적합을 계산 후, i-1, j-1에 담긴 누적합에 더해준 값을 저장했다.

이를 활용하여 쿼리에 들어가있는 좌표에 저장된 합을 출력했다.

## 문제풀이 코드

```python
# 백준
import sys

# N, M : 일감호의 크기(1 <= N, M <= 2000)
# Q : 건덕이가 낚싯대를 휘두를 횟수(1 <= Q <= 300000)
# arr : 일감호에 들어있는 물고기 수 모음 배열
# queries : Q번의 무게추, 힘 배열
def solution(N, M, Q, arr, queries):
    # sum_arr[i][j] : 낚싯줄이 (i, j)에 위치할 때 해당 열에서 얻을 수 있는 물고기 수
    sum_arr = [[0] * (M+1) for _ in range(N+1)]
    for j in range(1, M+1):
        cnt = 0
        for i in range(1, N+1):
            cnt += arr[i][j]
            sum_arr[i][j] = sum_arr[i-1][j-1] + cnt

    for a, b in queries:
        print(sum_arr[a][b])

N, M, Q = map(int, input().split())
arr = [[0] * (M+1)]
for _ in range(N):
    arr.append([0] + list(map(int, input().split())))
queries = [list(map(int, input().split())) for _ in range(Q)]
solution(N, M, Q, arr, queries)
```
