# 백준 문제 풀이

## bj 17351. 3루수는 몰라 (2025-06-30)

## 문제 설명

기어코 2루수의 이름을 알아낸 선수들. 2루수에게 매운맛을 보여 주려는 순간, 2루수가 충격적인 사실을 고백했다!

"사실 음료수는 3루수가 보낸 거야!!"

선수들은 서로 3루수가 아니라고 주장하기 시작했다. 하지만 이젠 아무도 믿을 수 없다! 이번에는 감독님도 별로 도움이 안 되는 것 같다.

"1루수가 누구야 2루수 이름이 뭐야 3루수는 몰라"

하지만 언제나 희망은 있다! 운동장에 3루수에 대한 단서가 흩뿌려져 있는 듯하다.

운동장은 N×N 크기의 격자로 표현된다.
운동장의 각 칸에는 알파벳 대문자로 표현되는 단서들이 숨겨져 있다.
우리는 (1, 1)에서 (N, N)까지 이동하면서 단서를 수집해야 한다. (각 좌표는 시작점과 도착점이다.)
지금은 여름이라 몹시 더우므로, (r+1, c) 또는 (r, c+1)로만 움직여야 한다. (안 그러면 탈진해서 쓰러질 것이다!) 물론, 운동장을 벗어날 수는 없다.
운동장을 지나면서 수집한 단서를 순서대로 이어 붙인 문자열을 S라고 하자. S에 "MOLA"라는 부분 문자열이 최대한 많이 등장하도록 움직여야 한다.
어떤 칸을 지나면 반드시 해당 칸의 단서를 수집해야 한다. 즉, 단서를 취사 선택하지 않는다.
3루수는 몰라몰라몰라몰라아몰르파티~

## 입력

첫째 줄에 운동장의 크기 N이 주어진다. (1 ≤ N ≤ 500)

둘째 줄부터 N개의 줄마다 N개의 문자가 주어진다. 이는 운동장 각 칸의 단서를 적어둔 지도이며, 알파벳 대문자로만 이루어져 있다.

첫 줄의 첫 문자가 (1, 1)이고, 마지막 줄의 마지막 문자가 (N, N)이다.

## 출력

주어진 규칙을 따라 이동하면서 부분 문자열로 "MOLA"를 최대한 많이 포함하는 S를 만들고, 이때 S에 포함된 부분 문자열 "MOLA"의 개수를 출력한다.

## 문제풀이

dp 문제이다. dp[i][j]에 지금까지 이어진 MOLA문자열의 최대 개수를 저장해 준다. 이 때, 각 문자를 0 ~ 3의 수로 이어주면 나머지 계산으로 인해 편해진다.

결국, dp[N][N]에는 (1, 1) -> (N, N)로 가는 데 만들 수 있는 MOLA 문자열의 최대 개수를 담게 된다. 이 때, 해당 값을 4로 나누었을 때의 몫이 MOLA 부분 문자열의 개수 합이 된다.

처음에는 문자열을 가지고 문제를 해결하려 해서 좀 어려웠다. 또한, check 함수 내부에서 분기를 잡기가 어려웠다.

## 문제풀이 코드

```python
# 백준 17351
import sys

def check(prev, now, val):
    if (prev+1) % 4 == now and val % 4 == now:
        return val + 1
    return 4 * (val // 4) + int(now == 0)

# N : 운동장의 크기(1 <= N <= 500)
# arr : 운동장 각 칸의 단서
def solution(N, arr):
    dp = [[0] * (N+1) for _ in range(N+1)]
    dir = [(1, 0), (0, 1)]
    for i in range(1, N+1):
        for j in range(1, N+1):
            dp[i][j] = max(check(arr[i-1][j], arr[i][j], dp[i-1][j]), check(arr[i][j-1], arr[i][j], dp[i][j-1]))

    return dp[N][N] // 4

N = int(input())
arr = [[-1] * (N+1) for _ in range(N+1)]
for i in range(1, N+1):
    s = input()
    for j in range(1, N+1):
        if s[j-1] == 'M':
            arr[i][j] = 0
        elif s[j-1] == 'O':
            arr[i][j] = 1
        elif s[j-1] == 'L':
            arr[i][j] = 2
        elif s[j-1] == 'A':
            arr[i][j] = 3
# for i in range(N+1):
#     print(arr[i])
print(solution(N, arr))
```

```java


```
