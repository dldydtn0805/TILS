# 컴퓨터구조
## Ch08. 입출력장치
### 08-01. 장치 컨트롤러와 장치 드라이버
출처 : [강민철 - 개발자를 위한 컴퓨터공학 1 : 혼자 공부하는 컴퓨터구조 + 운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)

### 0. 인트로
Q. 다양한 외부 장치들이 컴퓨터 내부와 어떻게 연결되고 소통하는 걸까?
- 장치 컨트롤러 : 입출력장치를 연결하기 위한 하드웨어적인 통로
- 장치 드라이버 : 입출력장치를 연결하기 위한 소프트웨어적인 통로

### 1. 장치 컨트롤러
입출력 장치는 너무나도 까다롭다!!!!
- 입출력장치에는 종류가 너무나도 많음...
    - 다양한 입출력장치와 정보를 주고받는 방식을 규격화하기 어려움
- 일반적으로 입출력장치의 데이터 전송률은 CPU와 메모리의 데이터 전송률에 비해 낮다
    - 데이터 전송률(Data Transfer Rate) : 데이터를 얼마나 빨리 교환할 수 있는지 나타내는 지표
        - 1초에 1000000마디를 내뱉는 사람(CPU, 메모리)와 1초에 1마디를 내뱉는 사람(입출력장치)는 대화하기 힘듬...

장치 컨트롤러(Device Controller) : 입출력 장치를 컴퓨터에 연결해주는 하드웨어
- 입출력 제어기(I/O Controller), 입출력 모듈(I/O Module)이라고도 불림
- 모든 입출력 장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고 받음

#### 장치 컨트롤러의 역할
장치 컨트롤러가 하는 역할
- CPU와 입출력장치 간의 통신 중개
- 오류 검출
- 데이터 버퍼링

1. CPU와 입출력장치 간의 통신 중개
- 기존 : 입출력장치의 다양한 종류 -> 정보 규격화가 어려움 
- 장치 컨트롤러 : 번역가 역할을 통해 이를 해결
2. 오류 검출 
- 자신과 연결된 입출력장치에 문제가 없는지 검출
3. 데이터 버퍼링(Data Buffering) : 전송률이 높은 장치와 낮은 장치 사이에 주고 받는 데이터를 버퍼(Buffer)에 저장하여 전송률을 비슷하게 맞추는 것
- 버퍼(Buffer) : 임시 저장 공간
- 버퍼에 데이터를 모았다가 한 번에 내보냄
- 버퍼에 데이터를 한 번에 저장하여 조금씩 내보냄
- 버퍼링을 통해 CPU와 입출력장치 간의 전송률 차이를 완화

#### 장치 컨트롤러의 구조
장치 컨트롤러에 필수적으로 포함되는 부품
- 데이터 레지스터
- 상태 레지스터
- 제어 레지스터

1. 데이터 레지스터(Data Register) : CPU와 입출력장치 사이에 주고받을 데이터를 저장하는 레지스터
- 버퍼 역할
- 주고받는 데이터가 많은 입출력장치에서는 RAM이 이 역할을 대신함
2. 상태 레지스터(Status Register) : 입출력장치의 상태 정보를 저장하는 레지스터
- 입출력장치가 입출력작업을 할 준비가 되었는가?
- 입출력장치의 입출력작업이 완료되었는가?
- 입출력장치에 오류는 없는가?
3. 제어 레지스터(Control Register) : 입출력장치가 수행할 내용에 대한 제어 정보와 명령얼 저장하는 레지스터

레지스터들에 담긴 값은 버스를 통해 CPU나 다른 입출력장치로 전달되거나, 장치컨트롤러에 연결된 입출력장치로 전달된다

### 2. 장치 드라이버
장치 드라이버(Device Driver) : 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램
- 장치 드라이버는 프로그램 -> 실행 과정에서 메모리에 저장
- 컴퓨터가 연결된 장치의 드라이버를 인식 및 실행 가능할 경우, 해당 장치는 컴퓨터 내부와 정보를 주고받을 수 있음
- 운영체제를 통해 장치 드라이버를 인식하고 실행 가능
