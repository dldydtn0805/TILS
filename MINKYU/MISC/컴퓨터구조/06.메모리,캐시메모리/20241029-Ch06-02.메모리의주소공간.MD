# 컴퓨터구조
## Ch06. 메모리와 캐시메모리
### 06-02. 메모리의 주소 공간
출처 : [강민철 - 개발자를 위한 컴퓨터공학 1 : 혼자 공부하는 컴퓨터구조 + 운영체제](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C)

### 1. 물리 주소와 논리 주소
**메모리에 저장된 정보(데이터와 명령어)의 위치는 주소로 알 수 있다.**

Q1. CPU와 실행 중인 프로그램은 현재 메모리 주소 별로 어떤 것이 저장되어 있는지 알고 있을까?
- NO!
- 메모리에 저장된 정보는 실시간으로 변한다
    - 새롭게 실행되는 프로그램이 시시때때로 적재됨
    - 실행이 끝난 프로그램은 삭제됨
    - 같은 프로그램을 실행하더라도 실행할 때 마다 적재되는 주소가 달라질 수 있음
Q2. 그렇다면 CPU와 실행 중인 프로그램은 어떻게 메모리 주소에 저장되어 있는 것들을 파악할까?
- 물리 주소 | 논리 주소 대응을 통해!

물리 주소(Physical Address) : 메모리 하드웨어가 사용하는 주소
- 정보가 실제로 저장된 하드웨어상의 주소

논리 주소 : CPU와 실행 중인 프로그램이 사용하는 주소
- 실행 중인 프로그램 각각에게 부여된 0번지부터 시작되는 주소
- 각 프로그램들의 자신만을 위한 주소

Q3. 그렇다면 논리 주소와 물리 주소 사이의 변환은 어떻게 이루어질까?
- MMU에 의해 수행

메모리 관리 장치(Memory Management Unt, MMU) : 논리 주소와 물리 주소 간의 변환을 담당하는 하드웨어
- CPU와 주소 버스 사이에 위치
- CPU가 발생시킨 논리 주소에 베이스 레지스터에 저장된 값을 더하여 물리 주소로 변환
    - 베이스 레지스터에 저장된 값은 곧 현재 실행중인 프로그램의 첫 물리 주소인 셈이다!

Q4. 만약 현재 실행중인 프로그램 중, 해당 프로그램이 적재되지 않은 메모리 주소에 접근하려 할 경우, 어떻게 될까?
- 절대 안된다!!! 그것을 방지하기 위해 존재하는 기법이 있다
- 메모리 보호 기법

메모리 보호 기법 : 논리 주소 범위를 벗어나는 명령어 실행을 방지하고, 실행 중인 프로그램이 다른 프로그램에 영향을 받지 않도록 보호하는 기법
- 한계 레지스터가 담당
    - 한계 레지스터(Limit Register) : 논리 주소의 최대 크기를 저장하는 레지스터
- 베이스 레지스터에 저장된 <= 프로그램의 물리 주소 범위 < 베이스 레지스터에 저장된 값 + 한계 레지스터에 저장된 값
- CPU가 메모리에 접근하기 전, 이를 확인하기 위해 한계 레지스터에 저장된 값과 논리 주소를 비교
    - 논리 주소 > 한계 레지스터에 저장된 값 --> 인터럽트 발생(트랩)
- 실행 중인 프로그램의 독립적인 실행 공간 확보
- 하나의 프로그램이 다른 프로그램을 침범하지 못하게 보ㅎ